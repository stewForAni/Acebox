<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>视频展示页test1</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<script src="js/jquery-3.3.1.js"></script>
    <script src="js/bootstrap.min.js"></script>
</head>
<body>
	<div class="container">
		<div data-toggle="modal" data-target=".bs-example-modal-lg">
            <div class="row">
                <div class="col-sm-3">
                    <img src="images/test/1.jpg" video="https://chimee.org/vod/1.mp4" style="width: 100%; height: 75%;">
                </div>
                <div class="col-sm-3">
                    <img src="images/test/1.jpg" video="http://localhost:9096/test/video/1.mp4" style="width: 100%; height: 75%;">
                </div>
            </div>
        </div>
            <!-- Large modal -->
        <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <video id="video" src="" controls preload="metadata" style="height: 500px;"></video>
            </div>
          </div>
        </div>
	</div>
</body>

<script type="text/javascript">
    // $(function() {
    $(document).ready(function(){
        var modelHeight = $("#video").height();
        $.fn.modal.Constructor.prototype._adjustDialog = function () {
            var isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;

            if (!this._isBodyOverflowing && isModalOverflowing) {
              this._element.style.paddingLeft = this._scrollbarWidth + "px";
            }

            if (this._isBodyOverflowing && !isModalOverflowing) {
              this._element.style.paddingRight = this._scrollbarWidth + "px";
            }
            // 使弹出框居中。。。
            var $modal_dialog = $(this._element).find('.modal-dialog');
            var m_top = ( $(window).height() - modelHeight)/2;
            $modal_dialog.css({'margin': m_top + 'px auto'});
            console.log($(window).height(), $modal_dialog.height(), "ok");
       };


        $("body").on('click',".container img", function(){
            $("#video").attr("src", $(this).attr("video"));
        });
    });
</script>
</html>
